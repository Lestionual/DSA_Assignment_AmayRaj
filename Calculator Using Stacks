// https://leetcode.com/problems/basic-calculator/submissions/1808402355/?envType=problem-list-v2&envId=stack
//Q1.
class Solution {
public:
    int calculate(string s) 
    {
           stack<int> st;
    int res=0;
    int num=0;
    int sign=1;
    for (int i=0;i<s.size();i++) {
        char c=s[i];
        if (isdigit(c)) 
        {
            num=num*10+(c-'0');
        } 
        else if (c=='+') 
        {
            res=res+sign*num;
            num=0;
            sign=1;
        }
        else if (c=='-') 
        {
            res+=sign*num;
            num=0;
            sign=-1;
        }
        else if (c=='(') 
        {
// Push current result and sign (two separate pushes)
            st.push(res);
            st.push(sign);
// Reset for any sub expressions present
            res=0;
            sign=1;
        } 
        else if (c==')') 
        {
            res+=sign*num;
            num=0;
// Popping the sign first, then the previous result
            int prevSign=st.top();
            st.pop();
            int prevRes=st.top();
            st.pop();

            res=prevRes+prevSign*res;
        }
    }
    res+=sign*num;
    return res;
    }
};

// Question is to create a working calculator to perform simple computations
//and I used the concept of stacks.
//using for loop i checked every symbol in the string for its datatype and 
//and performed the operation according to the question and stored it in 
//a variable. Since the input was a string I converted the digits into integer 
//datatype first before performing any computation. 